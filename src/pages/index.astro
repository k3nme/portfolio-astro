---
import PageLayout from '../layouts/BaseLayout.astro'
import Section from '../components/Section.astro'
import Card from '../components/Card.astro'
import ProjectCard from '../components/ProjectCard.astro'
import ProjectCardWithoutImage from '../components/ProjectCardWithoutImage.astro'
import Label from '../components/Label.astro'
import SkillLayout from '../components/SkillLayout.astro'
import PostPreview from '@/components/blog/PostPreview.astro'

import { Image } from 'astro:assets'
import astro from '../assets/dp.jpeg'
import { getAllPosts, sortMDByDate } from '@/utils'

const languages = ['Java', 'JavaScript', 'TypeScript', 'Python', 'Go (Learning)', 'Rust (Learning)']
const frontend = ['React', 'Angular', 'TailwindCSS', 'Astro']
const backend = ['Spring Framework', 'NodeJS', 'Express', 'Fastify']
const databases = ['MongoDB', 'MySQL', 'SQLite']
const devops = ['Docker', 'Kubernetes', 'AWS', 'GCP', 'Azure']
const tools = ['Git', 'GitHub', 'Teamcity']

const MAX_POSTS = 10
const allPosts = await getAllPosts()
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS)
---

<PageLayout meta={{ title: 'Home' }}>
	<div class='flex w-full flex-col gap-y-10'>
		<section class='flex flex-col items-center gap-y-7'>
			<Image
				src={astro}
				alt='profile photo'
				class='h-28 w-auto rounded-full drop-shadow p-2'
				loading='eager'
			/>

			<div class='flex flex-col items-center gap-y-4'>
				<h1 class='md:text-3xl text-sm font-bold'>Kalyan Kaushik Khasibhatla</h1>
				<div class='flex flex-wrap justify-center gap-x-7 gap-y-3'>
					<Label title='Full Stack Developer' />
					<Label title='Hyderabad'/>
					<Label
						title='LinkedIn'
						as='a'
						href='https://www.linkedin.com/in/k3nme/'
						target='_blank'
					/>
					<Label
						title='GitHub'
						as='a'
						href='https://github.com/k3nme'
						target='_blank'
					/>
				</div>
			</div>
		</section>

		<Section title='About'>
			<p class='text-muted-foreground'>
                Full Stack Developer with a passion for building products that solve real-world problems. I have experience in building web applications using modern technologies like React, Angular, Java, Node.js, and MongoDB. I am always eager to learn new technologies and improve my skills.
			</p>
			<p class='text-muted-foreground'>
			    <b>Top Skills :</b> Java, Typescript, React, Angular, Python and Node.js
            </p>
            <p class='text-muted-foreground'>
                <b>Learning :</b> Rust, Go, Kubernetes
            </p>
            <p class='text-muted-foreground'>
                <b>Experience :</b> 10+ years
            </p>
		</Section>
		{
			allPostsByDate.length > 0 && (
				<Section title='Posts'>
					<ul class='flex flex-col gap-y-2'>
						{allPostsByDate.map((p) => (
							<li class='flex flex-col gap-x-2 sm:flex-row'>
								<PostPreview post={p} />
							</li>
						))}
					</ul>
				</Section>
			)
		}

		<Section title='Experience'>
			<Card
				heading='Senior Software Engineer'
				subheading='Planon, Hyderabad'
				date='Sep 2018 - Present'
				altText='Senior Software Engineer, Planon, Hyderabad'
			>
				<ul class='ml-4 list-disc text-muted-foreground'>
					<li class='m-2'>
					   Currently working on improving the accessibility of the product by implementing WCAG standards.
					</li>
					<li class='m-2'>
					   Contributed to the finance module by implementing new features and fixing bugs. Improved the performance of reporting module.
				    </li>
				</ul>
			</Card>
			<Card
				heading='Senior Software Engineer (Android)'
				subheading='Head Digital Works, Hyderabad'
				date='Aug 2015 - Aug 2018'
				altText='Lorem, ipsum dolor sit'
			/>
		</Section>

		<Section title='Education'>
			<Card
				heading='Master of Sciences in Information Technology'
				subheading='IIIT, Hyderabad'
				date='Jun 2012 - Jun 2014'
				altText='Master of Sciences in Information Technology, IIIT, Hyderabad'
			/>
		</Section>

		<Section title='Projects'>
			<div class='flex flex-col gap-y-3'>
				<ProjectCard
					href='https://www.agileestimations.app'
					heading='Agile Estimations'
					subheading='A web application to estimate the effort required to complete a task using Agile Estimation techniques.'
					imagePath='/src/assets/agile-estimations.webp'
					altText='Example'
					class='w-full'
				/>
				<ProjectCardWithoutImage
					href='https://kalyankaushikkhasibhatla.dev'
					heading='This website'
					subheading='A personal website built using Astro, TailwindCSS'
					class='w-full'
				/>
			</div>
		</Section>

		<!--<Section title='Certifications'>
			<Card
				as='a'
				heading='Lorem ipsum, dolor sit amet consectetur adipisicing.'
				subheading='Lorem ipsum dolor sit amet consectetur adipisicing elit. Aperiam dicta magni consequuntur corrupti.'
				date='Mar 2024 - Mar 2024'
				imagePath='/src/assets/about-astro.png'
				altText='Lorem, ipsum dolor sit'
				imageClass='h-11 w-auto md:-left-16'
				href='https://www.google.com'
			/>
			<Card
				as='a'
				heading='Lorem ipsum, dolor sit amet'
				subheading='Lorem ipsum dolor sit amet consectetur adipisicing elit. Aperiam dicta.'
				date='Mar 2029 - Mar 2032'
				imagePath='/src/assets/about-astro.png'
				altText='Lorem, ipsum dolor sit'
				imageClass='h-11 w-auto md:-left-16'
				href='https://www.google.com'
			/>
		</Section> -->

		<Section title='Skills'>
			<SkillLayout title='Languages' skills={languages} />
			<SkillLayout title='Frontend' skills={frontend} />
			<SkillLayout title='Backend' skills={backend} />
			<SkillLayout title='Databases' skills={databases} />
			<SkillLayout title='DevOps' skills={devops} />
			<SkillLayout title='Tools' skills={tools} />
		</Section>
	</div>
</PageLayout>
